export function moduleName(){return"country-visits"};export function moduleData(){return{props:{cardData:Object,dateRange:Object,translations:Object,editingMode:Boolean,premium:Boolean,analytics:Boolean},data:function(){return{tableData:{},loading:!0,numbers:[],startDate:this.dateRange.startDate,countries:Object,GAaccount:this.analytics,cardOptions:this.cardData}},mounted:function(){this.loading=!1,this.getData()},watch:{dateRange:function(t,i){t.startDate==i.startDate&&t.endDate==i.endDate||this.getData()},cardOptions:{handler(t,i){this.$emit("card-change",t)},deep:!0}},computed:{getTheDates(){return this.dateRange},isGAconnected(){return this.analytics},getPostsOnce(){this.getPosts()},formattedPosts(){return this.getPostsOnce,this.recentPosts},getTheType(){let t=this;return t.cardOptions.chartType?t.cardOptions.chartType:"line"},daysDif(){self=this;var t=moment(self.dateRange.startDate);return moment(self.dateRange.endDate).diff(t,"days")}},methods:{getData(){let t=this;t.loading=!0,t.isGAconnected?jQuery.ajax({url:uipress_overview_ajax.ajax_url,type:"post",data:{action:"uipress_analytics_get_country_visits",security:uipress_overview_ajax.security,dates:t.getTheDates},success:function(i){var a=JSON.parse(i);if(a.noaccount)return t.GAaccount=!1,void(t.loading=!1);t.GAaccount=!0,t.loading=!1,t.tableData=a.dataSet,t.countries=a.countrieData}}):t.loading=!1},defaultImage(t){jQuery(t.target).replaceWith('<span class="material-icons-outlined uip-margin-right-s">flag</span>')}},template:'<div class="uip-padding-s uip-position-relative" :accountConnected="isGAconnected">  \t  \t<loading-placeholder v-if="loading == true"></loading-placeholder>  \t\t  <loading-placeholder v-if="loading == true"></loading-placeholder>        <premium-overlay v-if="!premium" :translations="translations"></premium-overlay>        <connect-google-analytics @account-connected="getData()" :translations="translations" v-if="loading != true && !isGAconnected"></connect-google-analytics>        <div v-if="loading != true && !editingMode  && isGAconnected" class="uip-overflow-auto">          <uip-country-chart v-if="cardOptions.hideMap != \'true\'" :translations="translations" :cdata="countries" :dates="dateRange"></uip-country-chart>          <div class="uip-w-100p uip-min-w-300 uip-overflow-auto">            <div class="uip-flex uip-margin-bottom-s">                    <div class="uip-text-muted uip-text-bold uip-flex-grow">{{translations.country}}</div>                    <div class="uip-text-muted uip-text-bold uip-margin-left-s uip-w-80 uip-text-right">{{translations.visits}}</div>                    <div class="uip-text-muted uip-text-bold uip-margin-left-s uip-w-100 uip-text-right">{{translations.change}}</div>            </div>            <div>                <div v-for="item in tableData" class="uip-flex uip-flex-center uip-margin-bottom-s">                    <div class="uip-flex-grow uip-flex uip-overflow-hidden uip-text-ellipsis uip-no-wrap">                      <img :src="item.flag" alt="flag" @error="defaultImage" style="width:20px;margin-right:10px;border-radius:2px;">                      <span>{{item.name}}</span>                    </div>                    <div class="uip-margin-left-s uip-w-80 uip-text-right uip-text-bold uip-flex-no-shrink">{{item.visits}}</div>                    <div class="uip-margin-left-s uip-w-100 uip-text-right uip-flex uip-flex-right uip-flex-no-shrink">                      <div class="uip-background-primary-wash uip-border-round uip-padding-xxs uip-text-bold uip-flex"                      :class="{\'uip-background-red-wash\' : item.change < 0}">                        <span v-if="item.change > 0" class="material-icons-outlined uip-margin-right-xxs">expand_less</span>                        <span v-if="item.change < 0" class="material-icons-outlined uip-margin-right-xxs">expand_more</span>                        <span>{{item.change}}%</span>                      </div>                    </div>                </div>            </div>          </div>        </div>        <form v-if="editingMode" class="uk-form-stacked" style="padding: var(--a2020-card-padding);">              <div class="">                  <div class="uip-text-bold uip-margin-bottom-xs">{{translations.showmap}}</div>                  <label class="uip-switch">                    <input type="checkbox" v-model="cardOptions.hideMap">                    <span class="uip-slider"></span>                  </label>              </div>        </form>\t\t </div>'}};export default function(){console.log("Loaded")};